# ğŸš¨ ç´§æ€¥ä¿®å¤ - ç›´æ¥ä¿®æ”¹ Cloudflare æ„å»ºå‘½ä»¤

## ğŸ¯ é—®é¢˜åˆ†æ

Cloudflare ä»åœ¨è¯»å–æ—§çš„ `package.json`ï¼Œæ˜¾ç¤ºï¼š
- `next@"^14.2.0"` ï¼ˆæ—§ç‰ˆæœ¬ï¼‰
- `@cloudflare/next-on-pages@"^1.10.0"` ï¼ˆè‡ªåŠ¨å‡çº§ï¼‰

**åŸå› ï¼š** Git ç¼“å­˜æˆ–åŒæ­¥å»¶è¿Ÿ

**è§£å†³ï¼š** ç›´æ¥åœ¨ Cloudflare ä¿®æ”¹æ„å»ºå‘½ä»¤ï¼Œå¼ºåˆ¶å®‰è£…æ­£ç¡®ç‰ˆæœ¬

---

## âœ… ç«‹å³æ‰§è¡Œï¼ˆ2åˆ†é’Ÿï¼‰

### æ–¹æ¡ˆ A: ä¿®æ”¹æ„å»ºå‘½ä»¤ï¼ˆæ¨èï¼‰â­

#### 1. è¿›å…¥æ„å»ºé…ç½®

1. è®¿é—® https://dash.cloudflare.com
2. Workers & Pages â†’ `fiverr-da8`
3. Settings â†’ Builds & deployments
4. ç‚¹å‡» **"Edit configuration"** æŒ‰é’®

#### 2. ä¿®æ”¹æ„å»ºå‘½ä»¤

**åŸæ¥çš„æ„å»ºå‘½ä»¤ï¼š**
```
npm run pages:build
```

**æ”¹æˆä»¥ä¸‹å‘½ä»¤ï¼ˆå¤åˆ¶æ•´è¡Œï¼‰ï¼š**
```
npm install --legacy-peer-deps && npm run pages:build
```

#### 3. ä¿å­˜é…ç½®

ç‚¹å‡» **"Save"** æŒ‰é’®

#### 4. é‡æ–°éƒ¨ç½²

1. ç‚¹å‡»é¡¶éƒ¨ **Deployments** æ ‡ç­¾
2. ç‚¹å‡» **"Retry deployment"**

---

### æ–¹æ¡ˆ B: æ›´æ¿€è¿›çš„ä¿®å¤

å¦‚æœæ–¹æ¡ˆ A è¿˜ä¸è¡Œï¼Œä½¿ç”¨è¿™ä¸ªå‘½ä»¤ï¼š

```bash
npm install next@14.3.0 @cloudflare/next-on-pages@1.10.0 --save-dev --legacy-peer-deps && npm run pages:build
```

è¿™ä¼šï¼š
1. å¼ºåˆ¶å®‰è£… `next@14.3.0`
2. å¼ºåˆ¶å®‰è£… `@cloudflare/next-on-pages@1.10.0`
3. ä½¿ç”¨ `--legacy-peer-deps` å¿½ç•¥å†²çª
4. ç„¶åè¿è¡Œæ„å»º

---

### æ–¹æ¡ˆ C: ä½¿ç”¨ npx ç›´æ¥æ„å»º

```bash
npm install --legacy-peer-deps && npx @cloudflare/next-on-pages@1.10.0
```

è¿™ä¼šï¼š
1. å®‰è£…æ‰€æœ‰ä¾èµ–ï¼ˆå¿½ç•¥å†²çªï¼‰
2. ç›´æ¥ä½¿ç”¨ npx è¿è¡Œç‰¹å®šç‰ˆæœ¬çš„ `next-on-pages`

---

## ğŸ“Š æˆåŠŸçš„æ ‡å¿—

ä¿®æ”¹åï¼Œæ„å»ºæ—¥å¿—ä¼šæ˜¾ç¤ºï¼š

```bash
âœ… Running build command: npm install --legacy-peer-deps && npm run pages:build
âœ… npm warn using --legacy-peer-deps
âœ… added 342 packages in 15s
âœ… Running: npm run pages:build
âœ… âš¡ï¸ Completed `npx @cloudflare/next-on-pages`
âœ… Build completed successfully
```

---

## ğŸ¯ ä¸ºä»€ä¹ˆè¿™ä¸ªæ–¹æ¡ˆä¼šæˆåŠŸï¼Ÿ

### ä¹‹å‰çš„é—®é¢˜

```
npm clean-install --progress=false
â†“
è¯»å– package.jsonï¼ˆå¯èƒ½æ˜¯æ—§ç‰ˆæœ¬ï¼‰
â†“
å°è¯•å®‰è£…ä¾èµ–
â†“
ç‰ˆæœ¬å†²çª âŒ
```

### ç°åœ¨çš„æµç¨‹

```
npm install --legacy-peer-deps
â†“
å¼ºåˆ¶å®‰è£…æ‰€æœ‰ä¾èµ–ï¼ˆå¿½ç•¥ç‰ˆæœ¬å†²çªï¼‰
â†“
å®‰è£…æˆåŠŸ âœ…
â†“
npm run pages:build
â†“
æ„å»ºæˆåŠŸ âœ…
```

---

## ğŸ”§ è¯¦ç»†é…ç½®æ­¥éª¤

### æˆªå›¾ä½ç½®æŒ‡å¼•

1. **Dashboard é¦–é¡µ**
   - ç‚¹å‡»å·¦ä¾§ "Workers & Pages"

2. **é¡¹ç›®åˆ—è¡¨**
   - æ‰¾åˆ°å¹¶ç‚¹å‡» `fiverr-da8` æˆ– `fiverr`

3. **é¡¹ç›®é¡µé¢**
   - ç‚¹å‡»é¡¶éƒ¨ "Settings" æ ‡ç­¾

4. **Settings é¡µé¢**
   - å‘ä¸‹æ»šåŠ¨åˆ° "Builds & deployments"
   - çœ‹åˆ° "Build configuration" éƒ¨åˆ†
   - ç‚¹å‡»å³ä¾§çš„ âœï¸ "Edit configuration"

5. **ç¼–è¾‘é¡µé¢**
   - æ‰¾åˆ° "Build command" è¾“å…¥æ¡†
   - æ¸…ç©ºç°æœ‰å†…å®¹
   - ç²˜è´´æ–°å‘½ä»¤ï¼š
     ```
     npm install --legacy-peer-deps && npm run pages:build
     ```
   - ç‚¹å‡»åº•éƒ¨ "Save" æŒ‰é’®

6. **é‡æ–°éƒ¨ç½²**
   - ç‚¹å‡»é¡¶éƒ¨ "Deployments" æ ‡ç­¾
   - ç‚¹å‡»æœ€æ–°çš„éƒ¨ç½²è®°å½•
   - ç‚¹å‡» "Retry deployment" æŒ‰é’®

---

## ğŸ’¡ ä¸‰ä¸ªæ–¹æ¡ˆçš„åŒºåˆ«

### æ–¹æ¡ˆ Aï¼ˆæ¨èï¼‰
```bash
npm install --legacy-peer-deps && npm run pages:build
```
- âœ… æœ€ç®€å•
- âœ… ä½¿ç”¨ package.json ä¸­çš„ç‰ˆæœ¬
- âœ… åªæ˜¯æ·»åŠ  --legacy-peer-deps
- âš ï¸ å¦‚æœ package.json è¿˜æ˜¯æ—§çš„ï¼Œå¯èƒ½ä¸å¤Ÿ

### æ–¹æ¡ˆ Bï¼ˆæ›´æ¿€è¿›ï¼‰
```bash
npm install next@14.3.0 @cloudflare/next-on-pages@1.10.0 --save-dev --legacy-peer-deps && npm run pages:build
```
- âœ… å¼ºåˆ¶å®‰è£…æŒ‡å®šç‰ˆæœ¬
- âœ… å®Œå…¨ç»•è¿‡ package.json
- âœ… 100% å¯æ§
- âš ï¸ å‘½ä»¤è¾ƒé•¿

### æ–¹æ¡ˆ Cï¼ˆæœ€ç›´æ¥ï¼‰
```bash
npm install --legacy-peer-deps && npx @cloudflare/next-on-pages@1.10.0
```
- âœ… ç›´æ¥è¿è¡Œç‰¹å®šç‰ˆæœ¬
- âœ… ä¸ä¾èµ– package.json çš„è„šæœ¬
- âœ… ç®€æ´é«˜æ•ˆ
- âš ï¸ ç»•è¿‡äº† pages:build è„šæœ¬

---

## ğŸ¯ æ¨èé¡ºåº

### ç¬¬ä¸€æ¬¡å°è¯•ï¼šæ–¹æ¡ˆ A
æœ€ç®€å•ï¼Œå…ˆè¯•è¯•

### å¦‚æœæ–¹æ¡ˆ A å¤±è´¥ï¼šæ–¹æ¡ˆ B
å¼ºåˆ¶å®‰è£…ç‰¹å®šç‰ˆæœ¬

### å¦‚æœæ–¹æ¡ˆ B è¿˜å¤±è´¥ï¼šæ–¹æ¡ˆ C
å®Œå…¨ç»•è¿‡é…ç½®æ–‡ä»¶

---

## ğŸ“‹ å®Œæ•´é…ç½®ç¤ºä¾‹

**ä¿®æ”¹åçš„å®Œæ•´æ„å»ºé…ç½®åº”è¯¥æ˜¯ï¼š**

```
Framework preset: Next.js (æˆ– None)

Build command: 
npm install --legacy-peer-deps && npm run pages:build

Build output directory: 
.vercel/output/static

Root directory: 
(ç•™ç©º)

Environment variables:
NODE_VERSION = 18
NPM_FLAGS = --legacy-peer-deps
```

---

## ğŸš€ ç«‹å³è¡ŒåŠ¨

**ç°åœ¨å°±å»åšï¼š**

1. âœ… Settings â†’ Builds & deployments
2. âœ… Edit configuration
3. âœ… ä¿®æ”¹ Build command
4. âœ… Save
5. âœ… Retry deployment

**3-5 åˆ†é’ŸåæŸ¥çœ‹ç»“æœï¼**

---

## ğŸ‰ å¦‚æœæˆåŠŸ

è®¿é—®ï¼š
```
https://fiverr-da8.pages.dev
```

å¦‚æœçœ‹åˆ° 500 é”™è¯¯ï¼Œè¯´æ˜æ„å»ºæˆåŠŸï¼Œåªéœ€è¦ç»‘å®šæ•°æ®åº“ï¼š
```
Settings â†’ Functions â†’ D1 database bindings
æ·»åŠ : DB â†’ fiverr-articles
```

---

## ğŸ”§ å¦‚æœè¿˜æ˜¯ä¸è¡Œ

è¯·æä¾›ï¼š
1. ä¿®æ”¹åçš„å®Œæ•´æ„å»ºæ—¥å¿—
2. ä½¿ç”¨çš„æ˜¯å“ªä¸ªæ–¹æ¡ˆï¼ˆA/B/Cï¼‰
3. Build command çš„å®Œæ•´å†…å®¹ï¼ˆæˆªå›¾ï¼‰

---

**ğŸš¨ è¿™æ˜¯æœ€åçš„æ–¹æ¡ˆï¼ç›´æ¥åœ¨ Cloudflare æ§åˆ¶æ„å»ºæµç¨‹ï¼Œä¸ä¾èµ–ä»»ä½•é…ç½®æ–‡ä»¶ï¼**

